# `ieegio`: IO toolbox for Intracranial Electroencephalography

The goal of `ieegio` is to provide integrated toolbox for common file
formats used in intracranial Electroencephalography (iEEG) and
deep-brain stimulation (DBS). Currently the package is under active
development.

## Installation

You can install the development version of `ieegio` from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pak("dipterix/ieegio")
```

`ieegio` provides additional sample data. To download them:

``` r
# list all the sample data
sample_names <- ieegio::ieegio_sample_data()

lapply(sample_names, ieegio::ieegio_sample_data)
```

## List 1: read formatted `ephys` data ([examples](https://dipterix.org/ieegio/articles/read-ephys.html))

The following formats have been (or will be) supported. Please feel free
to make a wish-list by posting an issue in this repository.

**Electrophysiology**

| Name                                    |           Common Extensions           |      Read       |    Write    |
|:----------------------------------------|:-------------------------------------:|:---------------:|:-----------:|
| EDF(+)/BDF(+) (European Data Format)    |                `*.edf`                |   `read_edf`    | `write_edf` |
| BrainVision                             | `*.vhdr`, `*.vmrk`, `*.eeg`, `*.dat`  | `read_brainvis` |             |
| BCI2000                                 |                `*.dat`                | `read_bci2000`  |             |
| NEV/NSx (BlackRock neural-event/signal) | `*.nev`, `*.ns1`, `*.ns2`, …, `*.ns6` |   `read_nsx`    |             |
| NWB (Neurodata Without Borders)         |                `*.nwb`                |   `read_nwb`    |     \*      |
| MEF                                     |                `*.mef`                |                 |             |

`*` - `NWB` format only has low-level support due to its format nature.
Please see examples with
[`help(read_nwb)`](http://dipterix.org/ieegio/reference/read_nwb.md)

## List 2: read imaging data ([examples](https://dipterix.org/ieegio/articles/read-imaging-data.html))

**Imaging**

| Name                                                   |     Common Extensions      |                        Read                        |                           Write                           |
|:-------------------------------------------------------|:--------------------------:|:--------------------------------------------------:|:---------------------------------------------------------:|
| NIfTI (Neuroimaging Informatics Technology Initiative) |        `*.nii[.gz]`        |           `read_volume` (`io_read_nii`)            |              `write_volume` (`io_write_nii`)              |
| MGH/MGZ (Massachusetts General Hospital format)        |      `*.mgh`, `*.mgz`      |           `read_volume` (`io_read_mgz`)            |              `write_volume` (`io_write_mgz`)              |
| GIfTI (Geometry format under the NIfTI)                |        `*.gii[.gz]`        |           `read_surface` (`io_read_gii`)           |             `write_surface` (`io_write_gii`)              |
| FreeSurfer surface                                     | e.g. `*h.pial`, `*h.white` |   `read_surface` (`io_read_fs(type="geometry")`)   |   `write_surface(format="freesurfer", type="geometry")`   |
| FreeSurfer node values/weights                         | e.g. `*h.curv`, `*h.sulc`  | `read_surface` (`io_read_fs(type="measurements")`) | `write_surface(format="freesurfer", type="measurements")` |
| Surface annotation                                     |         `*.annot`          | `read_surface` (`io_read_fs(type="annotations")`)  | `write_surface(format="freesurfer", type="annotations")`  |
| `TRK` streamlines                                      |    `*.trk`, `*.trk.gz`     |         `read_streamlines` (`io_read_trk`)         |           `write_streamlines` (`io_write_trk`)            |
| `TCK` streamlines                                      |          `*.tck`           |         `read_streamlines` (`io_read_tck`)         |           `write_streamlines` (`io_write_tck`)            |
| `TT` (`DSI-Studio`) streamlines                        |     `*.tt`, `*.tt.gz`      |         `read_streamlines` (`io_read_tt`)          |                                                           |
| `VTK` poly-data (as streamlines)                       | `*.vtk`, `*.vtp`, `*.vtpb` |   `read_streamlines` (`io_read_vtk_streamlines`)   |      `read_streamlines` (`io_write_vtk_streamlines`)      |

## List 3: common file formats used for meta data

| Name   | Common Extensions |      Read      |      Write      |
|:-------|:-----------------:|:--------------:|:---------------:|
| Matlab |      `*.mat`      | `io_read_mat`  | `io_write_mat`  |
| HDF5   |      `*.h5`       |  `io_read_h5`  |  `io_write_h5`  |
| YAML   | `*.yml`, `*.yaml` | `io_read_yaml` | `io_write_yaml` |
| JSON   |     `*.json`      | `io_read_json` | `io_write_json` |
| INI    |      `*.ini`      | `io_read_ini`  |                 |
| FST    |      `*.fst`      | `io_read_fst`  | `io_write_fst`  |

# Package index

## All functions

- [`LazyFST`](http://dipterix.org/ieegio/reference/LazyFST.md) : R6
  Class to Load 'FST' Files

- [`LazyH5`](http://dipterix.org/ieegio/reference/LazyH5.md) : Lazy
  'HDF5' file loader

- [`NWBHDF5IO`](http://dipterix.org/ieegio/reference/NWBHDF5IO.md) :

  Creates a `NWBHDF5IO` file container

- [`SignalDataCache`](http://dipterix.org/ieegio/reference/SignalDataCache.md)
  : Class definition for signal cache

- [`as_ieegio_surface()`](http://dipterix.org/ieegio/reference/as_ieegio_surface.md)
  :

  Convert other surface formats to `ieegio` surface

- [`as_ieegio_volume()`](http://dipterix.org/ieegio/reference/as_ieegio_volume.md)
  :

  Convert objects to `'ieegio'` image volumes

- [`as_nifti_header()`](http://dipterix.org/ieegio/reference/as_nifti_header.md)
  : Internal method to extract header information from a 'NIfTI' file

- [`burn_volume()`](http://dipterix.org/ieegio/reference/burn_volume.md)
  : Burn image at given positions

- [`convert_fst_to_hdf5()`](http://dipterix.org/ieegio/reference/convert-fst.md)
  [`convert_fst_to_csv()`](http://dipterix.org/ieegio/reference/convert-fst.md)
  : Convert 'FST' files to other formats

- [`ieegio_sample_data()`](http://dipterix.org/ieegio/reference/ieegio_sample_data.md)
  : Download sample files

- [`read_streamlines()`](http://dipterix.org/ieegio/reference/imaging-streamlines.md)
  [`write_streamlines()`](http://dipterix.org/ieegio/reference/imaging-streamlines.md)
  [`as_ieegio_streamlines()`](http://dipterix.org/ieegio/reference/imaging-streamlines.md)
  : Read and write streamlines

- [`read_surface()`](http://dipterix.org/ieegio/reference/imaging-surface.md)
  [`write_surface()`](http://dipterix.org/ieegio/reference/imaging-surface.md)
  [`io_read_fs()`](http://dipterix.org/ieegio/reference/imaging-surface.md)
  [`io_read_gii()`](http://dipterix.org/ieegio/reference/imaging-surface.md)
  [`io_write_gii()`](http://dipterix.org/ieegio/reference/imaging-surface.md)
  : Read and write surface files

- [`read_volume()`](http://dipterix.org/ieegio/reference/imaging-volume.md)
  [`write_volume()`](http://dipterix.org/ieegio/reference/imaging-volume.md)
  [`io_read_mgz()`](http://dipterix.org/ieegio/reference/imaging-volume.md)
  [`io_write_mgz()`](http://dipterix.org/ieegio/reference/imaging-volume.md)
  [`io_read_nii()`](http://dipterix.org/ieegio/reference/imaging-volume.md)
  [`io_write_nii()`](http://dipterix.org/ieegio/reference/imaging-volume.md)
  : Read and write volume data

- [`io_read_tck()`](http://dipterix.org/ieegio/reference/io-trk.md)
  [`io_write_tck()`](http://dipterix.org/ieegio/reference/io-trk.md)
  [`io_read_trk()`](http://dipterix.org/ieegio/reference/io-trk.md)
  [`io_write_trk()`](http://dipterix.org/ieegio/reference/io-trk.md) :

  Read or write `'TCK'` streamlines

- [`io_read_tt()`](http://dipterix.org/ieegio/reference/io-tt.md) :

  Read `'TT'` streamline file

- [`io_read_vtk_streamlines()`](http://dipterix.org/ieegio/reference/io-vtk-streamlines.md)
  [`io_write_vtk_streamlines()`](http://dipterix.org/ieegio/reference/io-vtk-streamlines.md)
  :

  Read or write streamline data in `'VTK'` format

- [`io_h5_valid()`](http://dipterix.org/ieegio/reference/io_h5_valid.md)
  [`io_h5_names()`](http://dipterix.org/ieegio/reference/io_h5_valid.md)
  : Check whether a 'HDF5' file can be opened for read/write

- [`io_read_fstarray_or_h5()`](http://dipterix.org/ieegio/reference/io_read_fstarray_or_h5.md)
  : Function try to load 'FST' arrays, if not found, read 'HDF5' arrays

- [`io_read_h5()`](http://dipterix.org/ieegio/reference/io_read_h5.md) :

  Lazy Load 'HDF5' File via
  [`hdf5r-package`](http://hhoeflin.github.io/hdf5r/reference/hdf5r-package.md)

- [`io_write_h5()`](http://dipterix.org/ieegio/reference/io_write_h5.md)
  : Save objects to 'HDF5' file without trivial checks

- [`io_read_fst()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_write_fst()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_read_ini()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_read_json()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_write_json()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_read_mat()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_write_mat()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_read_yaml()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  [`io_write_yaml()`](http://dipterix.org/ieegio/reference/low-level-read-write.md)
  : Low-level file read and write

- [`merge(`*`<ieegio_surface>`*`)`](http://dipterix.org/ieegio/reference/merge.ieegio_surface.md)
  :

  Merge two `'ieegio'` surfaces

- [`merge(`*`<ieegio_volume>`*`)`](http://dipterix.org/ieegio/reference/merge.ieegio_volume.md)
  :

  Merge `'ieegio'` volumes

- [`plot(`*`<ieegio_surface>`*`)`](http://dipterix.org/ieegio/reference/plot.ieegio_surface.md)
  : Plot '3D' surface objects

- [`plot(`*`<ieegio_volume>`*`)`](http://dipterix.org/ieegio/reference/plot.ieegio_volume.md)
  : Plot '3D' volume in anatomical slices

- [`install_pynwb()`](http://dipterix.org/ieegio/reference/pynwb_module.md)
  [`pynwb_module()`](http://dipterix.org/ieegio/reference/pynwb_module.md)
  :

  Install `'NWB'` via `'pynwb'`

- [`read_bci2000()`](http://dipterix.org/ieegio/reference/read_bci2000.md)
  : Read 'BCI2000' data file

- [`read_brainvis()`](http://dipterix.org/ieegio/reference/read_brainvis.md)
  : Read 'BrainVision' data

- [`read_edf()`](http://dipterix.org/ieegio/reference/read_edf.md) :
  Read 'EDF' or 'BDF' data file

- [`read_nsx()`](http://dipterix.org/ieegio/reference/read_nsx.md) :
  Read ('BlackRock') 'NEV' 'NSx' data

- [`read_nwb()`](http://dipterix.org/ieegio/reference/read_nwb.md) :
  Read 'NWB' format

- [`resample_volume()`](http://dipterix.org/ieegio/reference/resample_volume.md)
  : Down-sample or super-sample volume

- [`as_edf_channel()`](http://dipterix.org/ieegio/reference/write_edf.md)
  [`write_edf()`](http://dipterix.org/ieegio/reference/write_edf.md) :
  Write to 'EDF' format

# Articles

### All vignettes

- [Read \`ephys\`
  data](http://dipterix.org/ieegio/articles/read-ephys.md):
- [Read imaging
  data](http://dipterix.org/ieegio/articles/read-imaging-data.md):
